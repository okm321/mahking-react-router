@use "../../../styles/mixins" as m;
@use "../../../styles/variables" as v;

.button {
  display: flex;
  align-items: center;
  justify-content: center;
  border: none;
  border-radius: 4px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s;
  text-decoration: none;
  width: fit-content;

  &:focus-visible {
    outline: 2px solid var(--color_primary);
    outline-offset: 2px;
  }

  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
}

.button--s {
  padding: #{m.space(2)} #{m.space(4)};
  @include m.text-style(s);
}

.button--m {
  padding: #{m.space(1)} #{m.space(3)};
  @include m.text-style(m);
}

.button--l {
  padding: #{m.space(2)} #{m.space(3)};
  @include m.text-style(xl);
}

// Variant styles
.button--contained {
  &.button--primary {
    background-color: var(--color_primary);
    color: white;

    @media (hover: hover) {
      &:hover:not(:disabled):not(.button--disabled) {
        opacity: 0.8;
      }
    }
  }

  &.button--error {
    background-color: #ef4444;
    color: white;

    @media (hover: hover) {
      &:hover:not(:disabled):not(.button--disabled) {
        background-color: #dc2626;
      }
    }
  }
}

.button--outline {
  background-color: transparent;
  border: 2px solid currentColor;

  &.button--primary {
    color: var(--color_primary);
    border-color: var(--color_primary);

    @media (hover: hover) {
      &:hover:not(:disabled):not(.button--disabled) {
        background-color: var(--color_primary);
        color: white;
      }
    }
  }

  &.button--error {
    color: #ef4444;
    border-color: #ef4444;

    @media (hover: hover) {
      &:hover:not(:disabled):not(.button--disabled) {
        background-color: #ef4444;
        color: white;
      }
    }
  }
}

.button--text {
  background-color: transparent;
  border: none;
  padding: 8px 12px;

  &.button--primary {
    color: var(--color_primary);

    @media (hover: hover) {
      &:hover:not(:disabled):not(.button--disabled) {
        background-color: rgba(0, 0, 0, 0.04);
      }
    }
  }

  &.button--error {
    color: #ef4444;

    @media (hover: hover) {
      &:hover:not(:disabled):not(.button--disabled) {
        background-color: rgba(239, 68, 68, 0.04);
      }
    }
  }
}

.button--bold {
  font-weight: 700;
}

// 詳細度を上げたdisabledスタイル
.button.button--disabled {
  cursor: not-allowed;
  pointer-events: none;
}

// 各variantとの組み合わせで詳細度をさらに上げる
.button--contained.button--primary.button--disabled,
.button--contained.button--error.button--disabled {
  background-color: v.$gray-300;
  color: v.$gray-500;
  border-color: v.$gray-200;
}

.button--outline.button--primary.button--disabled,
.button--outline.button--error.button--disabled {
  background-color: v.$gray-300;
  color: v.$gray-500;
  border-color: v.$gray-200;
}

.button--text.button--primary.button--disabled,
.button--text.button--error.button--disabled {
  background-color: v.$gray-300;
  color: v.$gray-500;
  border-color: v.$gray-200;
}

.button__startIcon {
  display: inline-flex;
  margin-right: #{m.space(2)};
}

.button__endIcon {
  display: inline-flex;
  margin-left: #{m.space(2)};
}
